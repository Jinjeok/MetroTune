<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MetroTune</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="global-controls-container">
        <div class="volume-control-wrapper" id="master-volume-control">
            <span>MASTER</span>
            <input type="range" id="master-volume-slider" min="0" max="1" value="0.5" step="0.01">
            <span id="master-volume-percentage">50%</span>
        </div>
        <div class="volume-control-wrapper" id="beat-volume-control">
            <span>BEAT</span>
            <input type="range" id="beat-volume-slider" min="0" max="1" value="1.0" step="0.01">
            <span id="beat-volume-percentage">100%</span>
        </div>
        <div class="volume-control-wrapper hidden" id="rhythm-volume-control">
            <span>RHYTHM</span>
            <input type="range" id="rhythm-volume-slider" min="0" max="1" value="1.0" step="0.01">
            <span id="rhythm-volume-percentage">100%</span>
        </div>
        <div class="volume-control-wrapper hidden" id="chord-volume-control">
            <span>CHORD</span>
            <input type="range" id="chord-volume-slider" min="0" max="1" value="0.7" step="0.01">
            <span id="chord-volume-percentage">70%</span>
        </div>
    </div>

    <div class="app-container">
        <div class="metronome rhythm-module hidden">
            <h2>16-Beat Pattern</h2>
            <div class="rhythm-grid"></div>
            <div class="rhythm-controls">
                <div class="rhythm-accent-toggle">
                    <input type="checkbox" id="rhythm-accent-checkbox" checked>
                    <label for="rhythm-accent-checkbox">강약</label>
                </div>
                <div class="random-rhythm-toggle">
                    <input type="checkbox" id="random-rhythm-checkbox">
                    <label for="random-rhythm-checkbox">랜덤</label>
                </div>
            </div>
            <div class="rhythm-module-footer">
                <p>각 셀을 클릭하여 리듬을 만드세요.</p>
            </div>
        </div>

        <div class="metronome main-metronome">
            <h1>MetroTune</h1>
            <div class="bpm-presets">
                <button class="preset-btn" data-bpm="60">60</button>
                <button class="preset-btn" data-bpm="80">80</button>
                <button class="preset-btn" data-bpm="100">100</button>
                <button class="preset-btn" data-bpm="120">120</button>
            </div>

            <div class="bpm-controls">
                <button id="bpm-minus-btn" class="bpm-btn">-</button>
                <div class="bpm-display"><span id="bpm-output">120</span> BPM</div>
                <button id="bpm-plus-btn" class="bpm-btn">+</button>
            </div>
            <div class="bpm-slider">
                <input type="range" id="bpm-slider" min="40" max="240" value="120">
            </div>
            <div class="time-signature">
                <label for="beats-per-measure">마디 당 박자:</label>
                <input type="number" id="beats-per-measure" value="4" min="1" max="16">
            </div>
            <div id="beat-indicator-container"></div>
            <button id="start-stop-btn">시작</button>
            <div class="module-toggles">
                <button id="toggle-rhythm-panel-btn">리듬</button>
                <button id="toggle-chord-panel-btn">코드</button>
            </div>
        </div>

        <div class="metronome chord-module hidden">
             <h2>Chord Progression</h2>
             <div id="chord-display">C</div>
             <div class="chord-input-area">
                 <textarea id="chord-input" placeholder="코드 진행 입력 (예: C, G, Am, F)"></textarea>
                 <div class="random-chord-toggle">
                     <input type="checkbox" id="random-chords-checkbox">
                     <label for="random-chords-checkbox">랜덤</label>
                 </div>
             </div>
             <div class="chord-module-footer">
                <p>코드 기능은 메인 메트로놈의 시작/정지 버튼으로 제어됩니다.</p>
             </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>